---
// About.astro - Sisältö configista
import { CONTENT } from '../information/config';

interface Props {
  preset?: 'default' | 'kahvila' | 'remontti' | 'siivous';
}

const { preset = 'default' } = Astro.props as Props;

// HAE DATA
const data = CONTENT[preset].about;
---

<section id="about" class="about-section relative overflow-hidden bg-white py-24 sm:py-32">

  <div class="pointer-events-none absolute inset-0 -z-10" aria-hidden="true">
    <div class="absolute inset-y-0 right-0 w-1/2 bg-gray-50/60"></div>
    <div
      class="absolute -bottom-24 -left-24 h-72 w-72 rounded-full opacity-[0.05]"
      style="background: radial-gradient(circle, var(--brand-color) 0%, transparent 70%);"
    ></div>
  </div>

  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="grid grid-cols-1 items-center gap-16 lg:grid-cols-2 lg:gap-20">

      <div class="about-text order-2 lg:order-1">
        <div class="mb-5 flex items-center gap-3">
          <span class="rounded-full px-4 py-1.5 text-xs font-bold uppercase tracking-widest bg-brand/10 text-brand font-heading">
            {data.eyebrow}
          </span>
          <span class="hidden h-px w-12 bg-brand opacity-30 sm:block" aria-hidden="true"></span>
        </div>

        <h2 class="about-h2 mb-6 font-extrabold text-gray-900 font-heading" style="font-size: clamp(1.75rem, 3.5vw, 2.75rem);">
          {data.title}
        </h2>

        <div class="mb-8 space-y-4">
          {data.paragraphs.map((p, i) => (
            <p class={`leading-relaxed text-gray-600 font-body ${i === 0 ? 'text-base font-medium' : 'text-sm'}`}>
              {p}
            </p>
          ))}
        </div>

        <div class="mb-10 grid grid-cols-3 gap-4 border-y border-gray-100 py-8">
          {data.stats.map(({ value, label }) => (
            <div class="text-center">
              <p class="mb-1 text-2xl font-extrabold text-brand font-heading">
                {value}
              </p>
              <p class="text-xs text-gray-400 font-medium font-body">{label}</p>
            </div>
          ))}
        </div>

        <div class="flex items-center gap-4">
          <div class="flex h-14 w-14 shrink-0 items-center justify-center rounded-(--radius-box) text-lg font-black text-white shadow-lg bg-brand shadow-brand/20 font-heading">
            {data.founder.name.split(' ').map((n) => n[0]).join('').slice(0, 2)}
          </div>
          <div>
            <p class="text-lg font-bold text-gray-900 leading-tight font-heading">{data.founder.name}</p>
            <p class="text-sm text-gray-400 font-body">{data.founder.title}</p>
          </div>
          <div class="hidden sm:flex items-center gap-4 pl-4 border-l border-gray-200">
          <p class="text-xs italic text-gray-400 max-w-40 leading-relaxed font-body">
          "{data.quote}" 
         </p>
        </div>
        </div>
      </div>

      <div class="about-image order-1 flex justify-center lg:order-2 lg:justify-end">
        <div class="relative w-full max-w-md">
          <div class="absolute -inset-3 rounded-(--radius-box) bg-brand/5 -z-10" style="transform: rotate(2.5deg);" aria-hidden="true"></div>

          <img src={data.image} alt={data.founder.name} class="about-img relative z-10 w-full rounded-(--radius-box) object-cover shadow-2xl ring-1 ring-gray-200" style="aspect-ratio: 4/5;" />

          <div class="float-badge absolute -bottom-5 -left-5 z-20 flex items-center gap-3 rounded-(--radius-box) bg-white px-5 py-4 shadow-xl ring-1 ring-gray-100">
            <span class="flex h-10 w-10 shrink-0 items-center justify-center rounded-(--radius-btn) text-white bg-brand shadow-md shadow-brand/20">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></svg>
            </span>
            <div>
              <p class="text-xs font-semibold uppercase tracking-wider text-gray-400 font-heading">
                {preset === 'kahvila' ? 'Avattu' : 'Toiminnassa'}
              </p>
              <p class="text-sm font-extrabold text-gray-900 font-heading">
                {preset === 'kahvila' ? 'vuodesta 2015' : preset === 'remontti' ? 'vuodesta 2002' : 'vuodesta 2012'}
              </p>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<style>
  @keyframes fadeLeft { from { opacity: 0; transform: translateX(-28px); } to { opacity: 1; transform: translateX(0); } }
  @keyframes fadeRight { from { opacity: 0; transform: translateX(28px); } to { opacity: 1; transform: translateX(0); } }
  @keyframes floatY { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-7px); } }
  .about-text { animation: fadeLeft 0.75s cubic-bezier(0.16, 1, 0.3, 1) both; }
  .about-image { animation: fadeRight 0.8s 0.15s cubic-bezier(0.16, 1, 0.3, 1) both; }
  .about-img { animation: floatY 7s ease-in-out 1s infinite; }
  .float-badge { animation: floatY 6s ease-in-out 0.5s infinite; }
  @media (max-width: 640px) {
    .about-section { text-align: center; }
    .about-text > div:first-child, .about-text > div:nth-child(5) { justify-content: center; }
  }
</style>